// ÐÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ° Ñƒ Ð±Ð°Ð½ÐºÐ¾Ð¼Ð°Ñ‚Ð°:

// 1. Ð±Ð°Ð»Ð°Ð½ÑÐ° Ð½Ð° ÐºÐ°Ñ€Ñ‚Ðµ
// 2. Ð²Ñ‹Ð´Ð°Ñ‡Ð¸ Ð½Ð°Ð»Ð¸Ñ‡Ð½Ñ‹Ñ…

// Ð’Ñ…Ð¾Ð´ÑÑ‰Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ:

// Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ð¸ÑˆÐµÐ¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ getMoney, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ:

// Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð²Ñ…Ð¾Ð´ÑÑ‰Ð¸Ñ… Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð¾Ð±ÑŠÐµÐºÑ‚Ñ‹ userData Ð¸ bankData.
// Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Promise, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ ÑƒÑÐ»Ð¾Ð²Ð¸ÐµÐ¼ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð° Ð² Ð¿ÐµÑ€Ð²Ñ‹Ð¹ .then ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¾Ñ‚Ð²ÐµÑ‚ ÑŽÐ·ÐµÑ€Ð° Ð½Ð° Ð²Ð¾Ð¿Ñ€Ð¾Ñ 'ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð±Ð°Ð»Ð°Ð½Ñ Ð½Ð° ÐºÐ°Ñ€Ñ‚Ðµ?â€™.
// Ð•ÑÐ»Ð¸ ÑŽÐ·ÐµÑ€ Ð²Ñ‹Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ð”Ð° (Yes, ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ), Ñ‚Ð¾ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÐ¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ resolve(userData)
// Ð’ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ resolve, Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ Ð²Ð°Ð»ÑŽÑ‚ (userData), Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÐ¼ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ Ð²Ð²ÐµÑÑ‚Ð¸ Ð²Ð°Ð»ÑŽÑ‚Ñƒ, Ð¿Ð¾ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹
// Ð±ÑƒÐ´ÐµÑ‚ Ð²Ñ‹Ð²ÐµÐ´ÐµÐ½ Ð±Ð°Ð»Ð°Ð½Ñ.
// Ð•ÑÐ»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð² prompt Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ ÐÐ•Ð´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ð¾Ð¹ Ð´Ð»Ñ Ð½ÐµÐ³Ð¾ Ð²Ð°Ð»ÑŽÑ‚Ñ‹, Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°ÐµÐ¼ Ð·Ð°Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°Ñ‚ÑŒ Ð²Ð°Ð»ÑŽÑ‚Ñƒ, Ð¿Ð¾ÐºÐ° Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚
// Ð²Ð²ÐµÐ´ÐµÐ½Ð° Ð´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ð°Ñ.
// ÐŸÑ€Ð¸ Ð²Ð²Ð¾Ð´Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¼ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ñ Ð´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ð¾Ð¹ ÐµÐ¼Ñƒ Ð²Ð°Ð»ÑŽÑ‚Ñ‹ â€“ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¾ Ð±Ð°Ð»Ð°Ð½ÑÐµ Ð¿Ð¾ Ð´Ð°Ð½Ð½Ð¾Ð¹ Ð²Ð°Ð»ÑŽÑ‚Ðµ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€:
//â€˜Ð‘Ð°Ð»Ð°Ð½Ñ ÑÐ¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚: 1000 USDâ€™.
// Ð•ÑÐ»Ð¸ ÑŽÐ·ÐµÑ€ Ð²Ñ‹Ð±Ð¸Ñ€Ð°ÐµÑ‚ ÐžÑ‚Ð¼ÐµÐ½Ð° (No), Ñ‚Ð¾ Ð²Ð·Ñ‹Ð²Ð°ÐµÐ¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ reject({userData: userData, bankData: bankData})
// Ð’ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ reject, Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ Ð²Ð°Ð»ÑŽÑ‚ (userData) Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ñ… Ð²Ð°Ð»ÑŽÑ‚ Ð² Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¼ Ð±Ð°Ð½ÐºÐ¾Ð¼Ð°Ñ‚Ðµ
// bankData (Ñ ÐÐ• Ð½ÑƒÐ»ÐµÐ²Ñ‹Ð¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÐµÐ¼ ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð° max,
//Ñ‡Ñ‚Ð¾ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ Ð¾Ð± Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ð¸ Ð² Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ ÐºÑƒÐ¿ÑŽÑ€ ÑÑ‚Ð¾Ð¹ Ð²Ð°Ð»ÑŽÑ‚Ñ‹ Ð² Ð±Ð°Ð½ÐºÐ¾Ð¼Ð°Ñ‚Ðµ), Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÐ¼ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ Ð²Ð²ÐµÑÑ‚Ð¸ Ð²Ð°Ð»ÑŽÑ‚Ñƒ, Ð¿Ð¾ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹
// Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¾ ÑÐ½ÑÑ‚Ð¸Ðµ Ð½Ð°Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ð¸ ÑÑƒÐ¼Ð¼Ñƒ ÑÐ½ÑÑ‚Ð¸Ñ.
// Ð•ÑÐ»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð² prompt Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ ÐÐ•Ð´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ð¾Ð¹ Ð´Ð»Ñ Ð½ÐµÐ³Ð¾ Ð¸ Ð´Ð»Ñ Ð±Ð°Ð½ÐºÐ¾Ð¼Ð°Ñ‚Ð° Ð²Ð°Ð»ÑŽÑ‚Ñ‹, Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°ÐµÐ¼ Ð·Ð°Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°Ñ‚ÑŒ
//Ð²Ð°Ð»ÑŽÑ‚Ñƒ, Ð¿Ð¾ÐºÐ°
// Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð²Ð²ÐµÐ´ÐµÐ½Ð° Ð´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ð°Ñ.
// Ð•ÑÐ»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð² prompt ÑÑƒÐ¼Ð¼Ñƒ Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐ°ÑŽÑ‰ÑƒÑŽ max Ð´Ð»Ñ Ð´Ð°Ð½Ð½Ð¾Ð¹ Ð²Ð°Ð»ÑŽÑ‚Ñ‹, Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ: `Ð’Ð²ÐµÐ´ÐµÐ½Ð½Ð°Ñ ÑÑƒÐ¼Ð¼Ð° Ð±Ð¾Ð»ÑŒÑˆÐµ
//Ð´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ð¾Ð¹. ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ ÑÑƒÐ¼Ð¼Ð° ÑÐ½ÑÑ‚Ð¸Ñ: â€¦`.
// Ð•ÑÐ»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð² prompt ÑÑƒÐ¼Ð¼Ñƒ Ð¼ÐµÐ½ÑŒÑˆÐµ min Ð´Ð»Ñ Ð´Ð°Ð½Ð½Ð¾Ð¹ Ð²Ð°Ð»ÑŽÑ‚Ñ‹, Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ:
//`Ð’Ð²ÐµÐ´ÐµÐ½Ð½Ð°Ñ ÑÑƒÐ¼Ð¼Ð° Ð¼ÐµÐ½ÑŒÑˆÐµ Ð´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ð¾Ð¹. ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ ÑÑƒÐ¼Ð¼Ð° ÑÐ½ÑÑ‚Ð¸Ñ: â€¦`
// ÐŸÑ€Ð¸ Ð²Ð²Ð¾Ð´Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¼ Ð´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ð¾Ð¹ ÐµÐ¼Ñƒ Ð¸ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¼Ñƒ Ð±Ð°Ð½ÐºÐ¾Ð¼Ð°Ñ‚Ñƒ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð²Ð°Ð»ÑŽÑ‚Ñ‹ Ð¸ ÑÑƒÐ¼Ð¼Ñƒ â€“ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾Ð± ÑƒÑÐ¿ÐµÑˆÐ½Ð¾Ð¼ ÑÐ½ÑÑ‚Ð¸Ð¸
//Ð½Ð°Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: â€˜Ð’Ð¾Ñ‚ Ð’Ð°ÑˆÐ¸ Ð´ÐµÐ½ÐµÐ¶ÐºÐ¸ 200 USD ðŸ’µâ€™.
// Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð²Ð½Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ð²Ñ‹Ð±Ð¾Ñ€Ð° Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑŽÐ·ÐµÑ€ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ â€“ 'Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾, Ñ…Ð¾Ñ€Ð¾ÑˆÐµÐ³Ð¾ Ð´Ð½Ñ ðŸ˜Š'

let userData = {
  USD: 1000,
  EUR: 900,
  UAH: 15000,
  BIF: 20000,
  AOA: 100,
};

let bankData = {
  USD: {
    max: 3000,
    min: 100,
    img: "ðŸ’µ",
  },
  EUR: {
    max: 1000,
    min: 50,
    img: "ðŸ’¶",
  },
  UAH: {
    max: 0,
    min: 0,
    img: "ðŸ’´",
  },
  GBP: {
    max: 10000,
    min: 100,
    img: "ðŸ’·",
  },
};

const getMoney = (userData, bankData) =>
  new Promise((resolve, reject) => {
    const balanceConfirmation = confirm("Check cart balance?");
    if (balanceConfirmation) {
      resolve(userData);
    } else {
      reject({ userData, bankData });
    }
  })
    .then((userData) => {
      const availableCurrencies = Object.keys(userData);
      let balance;
      let currency;
      while (!balance) {
        currency = prompt(
          `Choose available currency: ${availableCurrencies.join()}`
        );
        balance = userData[currency];
      }
      console.log(`Your balance is ${balance} ${currency}`);
    })
    .catch(({ userData, bankData }) => {
      const availableCurrencies = Object.entries(bankData)
        .filter((entry) => {
          const currency = entry[0];
          const currencyBankData = entry[1];
          const userBalance = userData[currency];
          return currencyBankData.max && userBalance;
        })
        .map((entry) => entry[0]);

      let currency;
      let isValidCurrency = false;
      while (!isValidCurrency) {
        currency = prompt(
          `Choose available currency: ${availableCurrencies.join()}`
        );
        isValidCurrency = availableCurrencies.includes(currency);
      }
      const amount = +prompt("Choose amount to withdraw");
      if (Number.isNaN(amount)) {
        return console.log("Invalid amount");
      }
      const currencyBankData = bankData[currency];
      if (amount > currencyBankData.max) {
        return console.log(`Max withdrawal amount is ${currencyBankData.max}`);
      }
      if (amount < currencyBankData.min) {
        return console.log(
          `Minimal withdrawal amount is ${currencyBankData.min}`
        );
      }
      return console.log(
        `Your money ${amount} ${currency} ${currencyBankData.img}`
      );
    })
    .finally(() => {
      console.log("Thank you, have a nice day!!");
    });

getMoney(userData, bankData);
